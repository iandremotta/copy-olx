{"ast":null,"code":"const BASEAPI = \"http://alunos.b7web.com.br:501/\";\n\nconst apiFetchPost = async (endpoint, body) => {\n  if (!body.token) {\n    let token = Cookies.get(\"token\");\n  }\n\n  const res = await fetch(BASEAPI + endpoint, {\n    method: \"post\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(body)\n  });\n  const json = await res.json();\n\n  if (json.notallowed) {\n    window.location.href = \"/signin\";\n    return;\n  }\n\n  return json;\n};\n\nconst OlxAPI = {\n  login: async (email, password) => {\n    const json = await apiFetchPost(\"/user/signin\", {\n      email,\n      password\n    });\n    return json;\n  }\n};\nexport default (() => OlxAPI);","map":{"version":3,"sources":["G:/workspaces/reactWorkspace/olx/frontend/src/helpers/OlxApi.js"],"names":["BASEAPI","apiFetchPost","endpoint","body","token","Cookies","get","res","fetch","method","headers","Accept","JSON","stringify","json","notallowed","window","location","href","OlxAPI","login","email","password"],"mappings":"AAAA,MAAMA,OAAO,GAAG,iCAAhB;;AAEA,MAAMC,YAAY,GAAG,OAAOC,QAAP,EAAiBC,IAAjB,KAA0B;AAC7C,MAAI,CAACA,IAAI,CAACC,KAAV,EAAiB;AACf,QAAIA,KAAK,GAAGC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAZ;AACD;;AACD,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAACR,OAAO,GAAGE,QAAX,EAAqB;AAC1CO,IAAAA,MAAM,EAAE,MADkC;AAE1CC,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAE,kBADD;AAEP,sBAAgB;AAFT,KAFiC;AAM1CR,IAAAA,IAAI,EAAES,IAAI,CAACC,SAAL,CAAeV,IAAf;AANoC,GAArB,CAAvB;AAQA,QAAMW,IAAI,GAAG,MAAMP,GAAG,CAACO,IAAJ,EAAnB;;AACA,MAAIA,IAAI,CAACC,UAAT,EAAqB;AACnBC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,SAAvB;AACA;AACD;;AACD,SAAOJ,IAAP;AACD,CAlBD;;AAoBA,MAAMK,MAAM,GAAG;AACbC,EAAAA,KAAK,EAAE,OAAOC,KAAP,EAAcC,QAAd,KAA2B;AAChC,UAAMR,IAAI,GAAG,MAAMb,YAAY,CAAC,cAAD,EAAiB;AAAEoB,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAjB,CAA/B;AACA,WAAOR,IAAP;AACD;AAJY,CAAf;AAOA,gBAAe,MAAMK,MAArB","sourcesContent":["const BASEAPI = \"http://alunos.b7web.com.br:501/\";\r\n\r\nconst apiFetchPost = async (endpoint, body) => {\r\n  if (!body.token) {\r\n    let token = Cookies.get(\"token\");\r\n  }\r\n  const res = await fetch(BASEAPI + endpoint, {\r\n    method: \"post\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  });\r\n  const json = await res.json();\r\n  if (json.notallowed) {\r\n    window.location.href = \"/signin\";\r\n    return;\r\n  }\r\n  return json;\r\n};\r\n\r\nconst OlxAPI = {\r\n  login: async (email, password) => {\r\n    const json = await apiFetchPost(\"/user/signin\", { email, password });\r\n    return json;\r\n  },\r\n};\r\n\r\nexport default () => OlxAPI;\r\n"]},"metadata":{},"sourceType":"module"}